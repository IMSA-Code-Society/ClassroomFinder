<!DOCTYPE html>
<html lang="en">

<head>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favico/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favico/favicon-16x16.png">
    <link rel="manifest" href="/assets/favico/site.webmanifest">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule Input</title>
    <link rel="stylesheet" href="/assets/home.css">
    <script src="/assets/input/script.js" defer></script>
</head>

<body>
    <div class="view-buttons">
        <button id="viewTog">üëÅÔ∏è</button>
        <button id="zoomIn">+</button>
        <button id="zoomOut">-</button>
    </div>
    <div class="map" id="map">
        <img id="hallwayImage" class="hallway" src="/image" alt="Hallway Image">
        <svg id="mySvg"></svg>
    </div>

    <div id="bottom-part">

        <p style="color: white">The order of classes is by color. IE, red is 1st, orange 2nd...</p>
        <textarea id="scheduleInput" placeholder="Enter schedule... " rows="10%" cols="150%"></textarea>
        <form id="scheduleForm">

            <br>
            <div id="maindiv">
                <label for="daySelector">Choose what to render:</label>
                <select id="daySelector">
                    <option value="aday">A Day</option>
                    <option value="bday">B Day</option>
                    <option value="cday">C Day</option>
                    <option value="dday">D Day</option>
                    <option value="iday">I Day</option>
                </select>
                <select id="semSelector">
                    <option value="Semester 1">Semester One</option>
                    <option value="Semester 2">Semester Two</option>
                </select>
                <p>Midday @ Lexington?</p><input type="checkbox" id="midday" value="lexington">
                <p>Enter:</p><select id="enterSelector">
                    <option value="east">East Main</option>
                    <option value="west">West Main</option>

                    <option value="d13">Door 13</option>
                    <option value="d6">Door 6</option>
                </select>
                <p>Exit:</p><select id="exitSelector">
                    <option value="east">East Main</option>
                    <option value="west">West Main</option>

                    <option value="d13">Door 13</option>
                    <option value="d6">Door 6</option>
                </select>
            </div>
            <button type="submit" id="submit">Submit</button>

            <br>

            <div>
                <p><a href="/">Schedule Finder</a>
                    <a href="/about">About Page</a>
                    <a href="/path">Direct Path</a>
                </p>


            </div>

            <p id="error_message" ;></p>



        </form>
    </div>
    <script>

        function saveToStorage(id, value) {
            localStorage.setItem(id, value);
        }

        function loadFromStorage(id) {
            return localStorage.getItem(id);
        }


        const elementsToPersist = [
            "scheduleInput",
            "daySelector",
            "semSelector",
            "enterSelector",
            "exitSelector"
        ];


        window.addEventListener("DOMContentLoaded", () => {
            elementsToPersist.forEach(id => {
                const el = document.getElementById(id);
                const saved = loadFromStorage(id);
                if (saved !== null) {
                    el.value = saved;
                }

                el.addEventListener("input", () => saveToStorage(id, el.value));
                el.addEventListener("change", () => saveToStorage(id, el.value)); // for <select>
            });


            const checkbox = document.getElementById("midday");
            const savedCheck = loadFromStorage("midday");
            if (savedCheck !== null) {
                checkbox.checked = savedCheck === "true";
            }
            checkbox.addEventListener("change", () => {
                saveToStorage("midday", checkbox.checked);
            });
        });
    </script>



    <div id="tooltip" class="tooltip"></div>
</body>

</html>