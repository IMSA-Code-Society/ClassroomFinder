<!DOCTYPE html>
<html lang="en">


<head>
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/favico/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/favico/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/favico/favicon-16x16.png">
    <link rel="manifest" href="/assets/favico/site.webmanifest">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Schedule Map Maker</title>
    <link rel="stylesheet" href="/assets/home.css?1234">
    <script src="/assets/input/script.js" defer></script>
    <meta property="og:title" content="IMSA Schedule Map Maker" />
    <meta property="og:description"
        content="This website will generate a map of your IMSA schedule to ease navigation" />
    <meta property="og:image" content="https://schedule-map-maker.epochml.org/assets/about/epochLogo.jpg" />
    <meta property="og:url" content="https://schedule-map-maker.epochml.org/" />
    <meta property="og:type" content="website" />
</head>

<body>
    <div class="view-buttons">
        <button title="Download an image of your schedule map" id="downloadMapBtn">üíæ</button>
        <button title="Hide the bottom input panel" id="viewTog">üëÅÔ∏è</button>
        <button title="Zoom in" id="zoomIn">+</button>
        <button title="Zoom out" id="zoomOut">-</button>

    </div>
    <div title="Order of your schedule" id="scheduleBox" class="schedule-box"></div>

    <div class="map" id="map">
        <img id="hallwayImage" class="hallway" src="/image" alt="Hallway Image">
        <svg id="mySvg"></svg>
    </div>

    <div id="bottom-part">

        <p>The order of classes is by color. IE, red is 1st, orange 2nd...</p>
        <textarea
            title="Input your Powerschool Schedule here. See the About page for help if you don't know where that is."
            id="scheduleInput" placeholder="Enter schedule... (see the ABOUT page if you need help!) " rows="6%"
            cols="150%"></textarea>
        <form id="scheduleForm">

            <br>
            <div id="maindiv">
                <label for="daySelector">Choose what to render:</label>
                <select title="Select which day to render" id="daySelector">
                    <option value="aday">A Day</option>
                    <option value="bday">B Day</option>
                    <option value="cday">C Day</option>
                    <option value="dday">D Day</option>
                    <option value="iday">I Day</option>
                </select>
                <select title="Select from which semester to render classes" id="semSelector">
                    <option value="Semester 1">Semester One</option>
                    <option value="Semester 2">Semester Two</option>
                </select>
                <p>Midday @ Lexington?</p><input title="Select whether or not to stop by Lexington." type="checkbox"
                    id="midday" value="lexington">
                <p>Enter:</p><select title="Select which entrance to use" id="enterSelector">
                    <option value="east">East Main</option>
                    <option value="west">West Main</option>

                    <option value="d13">Door 13</option>
                    <option value="d6">Door 6</option>
                </select>
                <p>Exit:</p><select title="Select which exit to use" id="exitSelector">
                    <option value="east">East Main</option>
                    <option value="west">West Main</option>

                    <option value="d13">Door 13</option>
                    <option value="d6">Door 6</option>
                </select>
            </div>
            <button title="Submit and render your schedule" type="submit" id="submit">Submit</button>

            <br>
            <br>
            <div style="display: flex; justify-content: center;">
                <div
                    style="display: flex; align-items: center; gap: 20px; overflow: hidden; position: fixed; bottom: 0;">
                    <p>
                        <a href="/">Schedule Finder ></a>
                        <a rel="noopener noreferrer" href="/about">About Page ></a>
                        <a rel="noopener noreferrer" href="/path">Direct Path ></a>
                        <a rel="noopener noreferrer" href="https://geosir.github.io/imsa-scheduler/">George's
                            Schedule Machine >></a>
                        <a rel="noopener noreferrer" href="https://imsa-course-planner.vercel.app/">Add/Drop Calculator
                            >></a>
                    </p>
                </div>
            </div>

            <p id="error_message" ;></p>
            <br>


        </form>
    </div>
    <script>

        window.addEventListener("load", () => {
            const map = document.getElementById("map");
            const scrollHeight = map.scrollHeight - map.clientHeight;
            map.scrollTop = scrollHeight * 0.15;
        });



        function saveToStorage(id, value) {
            localStorage.setItem(id, value);
        }

        function loadFromStorage(id) {
            return localStorage.getItem(id);
        }


        const elementsToPersist = [
            "scheduleInput",
            "daySelector",
            "semSelector",
            "enterSelector",
            "exitSelector"
        ];


        window.addEventListener("DOMContentLoaded", () => {
            elementsToPersist.forEach(id => {
                const el = document.getElementById(id);
                const saved = loadFromStorage(id);
                if (saved !== null) {
                    el.value = saved;
                }

                el.addEventListener("input", () => saveToStorage(id, el.value));
                el.addEventListener("change", () => saveToStorage(id, el.value)); // for <select>
            });


            const checkbox = document.getElementById("midday");
            const savedCheck = loadFromStorage("midday");
            if (savedCheck !== null) {
                checkbox.checked = savedCheck === "true";
            }
            checkbox.addEventListener("change", () => {
                saveToStorage("midday", checkbox.checked);
            });
        });
    </script>



    <div id="tooltip" class="tooltip"></div>
</body>

</html>